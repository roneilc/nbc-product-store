<div class="store-container">
  <header class="store-header">
      <div class="header-top">
        <h1>{{ title }}</h1>
        <div class="cart-container">
          <button class="cart-button" (click)="toggleCartFlyout($event)" aria-haspopup="dialog" [attr.aria-expanded]="showCart()">Cart (<span class="cart-count">{{ cartState.cartCount() }}</span>)</button>
          <app-cart-flyout
            [showCart]="showCart()"
            [cartItems]="cartState.cartItems()"
            [cartCount]="cartState.cartCount()"
            [cartTotal]="cartState.cartTotal()"
            (close)="toggleCartFlyout()">
          </app-cart-flyout>
        </div>
        <div class="backend-toggle">
          <label class="switch">
            <input type="checkbox" [checked]="currentBackend() === 'java'" (change)="toggleBackend()" />
            <span class="slider"></span>
          </label>
          <span class="backend-label">Backend: {{ currentBackend() }}</span>
        </div>
      </div>
  </header>

  <app-products-page></app-products-page>
</div>

