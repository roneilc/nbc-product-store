<div class="cart-backdrop" *ngIf="showCart" (click)="onClose()"></div>
<div class="cart-flyout" [class.open]="showCart" aria-hidden="{{ !showCart }}" (click)="$event.stopPropagation()">
  <div class="cart-flyout-inner">
    <h4>Your Cart</h4>
    <div *ngIf="cartItems.length === 0" class="cart-empty">Your cart is empty</div>
    <div *ngFor="let item of cartItems" class="cart-item">
      <img *ngIf="item.thumbnail" [src]="item.thumbnail" alt="" class="cart-item-thumb" />
      <div class="cart-item-info">
        <div class="cart-item-title">{{ item.title }}</div>
        <div class="cart-item-qty">Qty: {{ item.quantity }}</div>
        <div class="cart-item-subtotal">${{ (item.price || 0) * (item.quantity || 0) | number:'1.2-2' }}</div>
      </div>
    </div>
    <div class="cart-footer">
      <div class="cart-total">Total: ${{ cartTotal | number:'1.2-2' }}</div>
      <button *ngIf="cartItems.length > 0" class="clear-cart-btn" (click)="onClearCart()">Clear Cart</button>
    </div>
  </div>
</div>
